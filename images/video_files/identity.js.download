var W=Object.create;var L=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Y=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of z(t))!V.call(e,r)&&r!==n&&L(e,r,{get:()=>t[r],enumerable:!(o=H(t,r))||o.enumerable});return e};var E=(e,t,n)=>(n=e!=null?W(J(e)):{},Y(t||!e||!e.__esModule?L(n,"default",{value:e,enumerable:!0}):n,e));var v=l(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.joinPath=c.splitPath=void 0;var h="/",Q=e=>e?e.trim().split(h).filter(t=>!!t):[];c.splitPath=Q;var Z=(...e)=>{let t=`${h}${e.reduce((o,r)=>[...o,...(0,c.splitPath)(r)],[]).join(h)}`,n=e[e.length-1];return e&&n.endsWith(h)&&(t+=h),t};c.joinPath=Z});var x=l((Te,ee)=>{ee.exports={us:{loc:"us",lang:"en"},ca:{loc:"ca",lang:"en"},fr:{loc:"fr",lang:"fr"},"fr-ca":{loc:"ca",lang:"fr"},"fr-ch":{loc:"ch",lang:"fr"},uk:{loc:"gb",lang:"en"},de:{loc:"de",lang:"de"},"de-ch":{loc:"ch",lang:"de"},es:{loc:"es",lang:"es"},it:{loc:"it",lang:"it"},nl:{loc:"nl",lang:"nl"},"nl-be":{loc:"nl",lang:"be"},se:{loc:"se",lang:"sv"},eu:{loc:"eu",lang:"en"},mx:{loc:"mx",lang:"es"},br:{loc:"br",lang:"pt"},au:{loc:"au",lang:"en"},in:{loc:"in",lang:"en"},jp:{loc:"jp",lang:"ja"},kr:{loc:"kr",lang:"ko"},th:{loc:"th",lang:"th"},tw:{loc:"tw",lang:"zh"},hk:{loc:"hk",lang:"zh"},cn:{loc:"cn",lang:"zh"},my:{loc:"my",lang:"en"},ap:{loc:"ap",lang:"en"},latam:{loc:"latam",lang:"es"},no:{loc:"no",lang:"no"},dk:{loc:"dk",lang:"da"},pl:{loc:"pl",lang:"pl"},tr:{loc:"tr",lang:"tr"},fi:{loc:"fi",lang:"fi"},ch:{loc:"ch",lang:""}}});var w=l(u=>{"use strict";var te=u&&u.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0});u.UrlLocale=void 0;var ne=v(),D=te(x()),j="us",b=class{constructor(t){if(this.langLoc="",this.urlLoc="",this.basePath="",this.loc="",this.lang="",this.segs=[],this.setBasePath=()=>{this.loc!==j&&this.segs.splice(0,1),this.basePath=`/${this.segs.join("/")}`},!t)return;this.segs=(0,ne.splitPath)(t),this.urlLoc=this.segs.length&&this.segs[0]in D.default?this.segs[0]:j;let n=Object.assign(D.default[this.urlLoc]);this.lang=n.lang,this.loc=n.loc,this.langLoc=`${this.lang}-${this.loc}`,this.setBasePath()}};u.UrlLocale=b});var P=l(a=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.joinPath=a.splitPath=a.UrlLocale=void 0;var oe=w();Object.defineProperty(a,"UrlLocale",{enumerable:!0,get:function(){return oe.UrlLocale}});var S=v();Object.defineProperty(a,"splitPath",{enumerable:!0,get:function(){return S.splitPath}});Object.defineProperty(a,"joinPath",{enumerable:!0,get:function(){return S.joinPath}})});var U=l(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});var T=P();y.default=e=>{let t;if(e===void 0||typeof e=="string"){let o=globalThis.sfdcBase||{};if(!e&&!re(o.page))return o.page.pagename;t=new T.UrlLocale(e||location.pathname)}else t=e;return[...["SFDC",t.urlLoc],...t.basePath==="/"?["homepage"]:(0,T.splitPath)(t.basePath)].join(":")};var re=e=>!e||e instanceof Object&&!Object.keys(e).length});var F=l(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.default=e=>e.endsWith("homepage")?"Home Page":"Other Page"});var C=l(i=>{"use strict";var N=i&&i.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0});i.getPageName=void 0;var G=N(U());i.getPageName=G.default;var se=N(F());i.default=(e,t)=>{let n=e.reqLocale,o=(0,G.default)(e.reqLocale),r=(0,se.default)(o);return{pagename:o,type:r,locale:n.urlLoc,segment:`${t==="customer"?t:"non-customer"}:${n.urlLoc}`,sitesection:(()=>{let d=o.split(":");return`${n.urlLoc}:${d.length>2?d[2]:"other"}`})(),uiframework:e.expRendererLabel}}});var f=globalThis.sfdcBase||{};var Le=!!(f.env&&f.env.toLowerCase()==="prod");var I=e=>{let t=localStorage.getItem(e);try{t=JSON.parse(t)}catch{}return t??""};var K="webactls";globalThis.digitalData=globalThis.digitalData||{page:{},user:[{}],localStorage:{...I(K)||{}},util:{}};globalThis.digitalData.timestamp=globalThis.digitalData.timestamp||new Date().getTime();var X=globalThis.digitalData;var me=E(C());var g={WARN:"warn",INFO:"info",DEBUG:"debug",DEPRECATE:"deprecate"},ae="client-libs-debug",M=async(e,...t)=>{let n=sessionStorage.getItem(ae),o=n==="mute";if(!t.length||o)return;let r=console,d="trace",p;switch(e){case g.DEPRECATE:p=r[d],t=`${t} has been deprecated. Please update or remove reference`;break;case g.DEBUG:n&&!o&&(p=r[d]);break;case g.INFO:case g.WARN:p=r[e];break}typeof p=="function"&&p(t)};var le="https://a.sfdcstatic.com",ce="/digital/@sfdc-www/clientlibs-web-components",ie="v1",ue="gdpr.js",ge="v1",de="/digital/one-trust/ext";var R="analytics.js";var B={QA:"latest",UAT:"stage",PROD:"stable",DEV:"latest",INT:"stage",HOTFIX:"stable",ONBOARD:"stable"},$="Could not import module URL: ",_=f.env||"",pe=_&&B[_]?B[_]:"stable",fe={ver:ie,path:ce,envTag:pe},he=(e,t)=>{if(e)try{t={...fe,...t};let n=t.verDir||`${t.ver}-${t.envTag}`,o=new URL(t.path,le);return o.pathname+=`/${[n,e].join("/")}`,o.toString()}catch{}},m=(e,t)=>{let n=he(e,t);return n?import(n).catch(o=>{M(g.WARN,`${$} ${n}`)}):Promise.reject(`${$} ${e}`)},A=m(ue,{ver:ge,path:de});var k=E(P());var q="digital-identity-attributes",ve=async()=>m(R).then(e=>e.getGACID()),be=async()=>{let e=await m(R);return e.getUserProfile(e.USER_PROFILES.TB)},Pe=async()=>{let e=await A;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_FUNCTIONAL))},ye=async()=>{let e=await A;return await e.onGdprReady.then(()=>e.isActiveGroup(e.OT_ADVERTISING))},s={gacIdResolver:ve,tbidUserInfoResolver:be,gdprFunctionalResolver:Pe,gdprAdvertisingResolver:ye},Xe=e=>{s.gacIdResolver=e},Qe=e=>{s.tbidUserInfoResolver=e},Ze=e=>{s.gdprFunctionalResolver=e},et=e=>{s.gdprAdvertisingResolver=e},tt=async()=>s.gacIdResolver(),nt=async()=>s.tbidUserInfoResolver(),ot=async()=>s.gdprFunctionalResolver(),rt=async()=>s.gdprAdvertisingResolver(),Oe=(e,t)=>t??e;typeof window<"u"&&(s=window[q]=Oe(s,window[q]));export{tt as getGacId,nt as getTbidUserInfo,Oe as initializeState,rt as isGdprAdvertising,ot as isGdprFunctional,Xe as setGacIdResolver,et as setGdprAdvertisingResolver,Ze as setGdprFunctionalResolver,Qe as setTbidUserInfoResolver};
//# sourceMappingURL=identity.js.map
